<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gate: 5DArt Activator</title>
    <script src="https://cdn.jsdelivr.net/npm/@thirdweb-dev/sdk@3.17.5/dist/thirdweb.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 2rem;
        background: #f0f0f0;
      }
      button {
        padding: 1rem 2rem;
        font-size: 1.2rem;
        cursor: pointer;
      }
      .btn {
        display: inline-block;
        padding: 1rem 2rem;
        margin-top: 2rem;
        background: #4caf50;
        color: white;
        text-decoration: none;
      }
      #status {
        margin-top: 1.5rem;
        font-size: 1rem;
        color: #333;
      }
    </style>
  </head>
  <body>
    <h1>üîê –ê–∫—Ç–∏–≤—É–π —Å–≤—ñ–π NFT</h1>
    <p>
      –¶—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î —É –≤–∞—à–æ–º—É –≥–∞–º–∞–Ω—Ü—ñ NFT –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó
      <strong>5DArt Activators</strong>.
    </p>
    <button id="connectWallet">üîó –ü—ñ–¥‚Äô—î–¥–Ω–∞—Ç–∏ –≥–∞–º–∞–Ω–µ—Ü—å</button>
    <p id="status"></p>

    <script>
      const contractAddress = "0x07f2dda4f4ce04e56308f1165e30c53430bdbe62";
      const tokenId = 0; // –ó–º—ñ–Ω—ñ—Ç—å, —è–∫—â–æ –≤–∞—à —Ç–æ–∫–µ–Ω –º–∞—î —ñ–Ω—à–∏–π ID
      const redirectUrl = "https://saiudja.space/plants-activation-25.html";

      document.getElementById("connectWallet").onclick = async () => {
        try {
          const provider = new ethers.providers.Web3Provider(window.ethereum);
          await provider.send("eth_requestAccounts", []);
          const signer = provider.getSigner();
          const walletAddress = await signer.getAddress();
          document.getElementById("status").innerText =
            "üîç –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –≤–∞—à NFT...";

          const sdk = new thirdweb.ThirdwebSDK(provider.getSigner(), {
            chainId: 8453, // Base Mainnet
          });

          const contract = await sdk.getContract(contractAddress, "edition");

          const balance = await contract.balanceOf(walletAddress, tokenId);

          if (balance.toNumber() > 0) {
            document.getElementById("status").innerText =
              "‚úÖ –î–æ—Å—Ç—É–ø –Ω–∞–¥–∞–Ω–æ! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î–º–æ...";
            setTimeout(() => (window.location.href = redirectUrl), 2000);
          } else {
            document.getElementById("status").innerText =
              "‚õî –£ –≤–∞—Å –Ω–µ–º–∞—î –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ NFT. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤—ñ–π –≥–∞–º–∞–Ω–µ—Ü—å.";
          }
        } catch (err) {
          console.error(err);
          document.getElementById("status").innerText =
            "‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑‚Äô—î–¥–Ω–∞–Ω–Ω—ñ –∑ –≥–∞–º–∞–Ω—Ü–µ–º.";
        }
      };
    </script>
  </body>
</html>
